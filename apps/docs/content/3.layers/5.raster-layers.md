---
title: Raster Layers
description: Cloud-Optimized GeoTIFF and satellite imagery visualization
---

::callout{icon="i-lucide-external-link" to="https://mapcn-vue.geoql.in/examples/deckgl-cog" target="_blank"}
**Live Demo** - GPU-accelerated COG visualization with Sentinel-2 imagery
::

## COGLayer

[Live Demo](https://mapcn-vue.geoql.in/examples/deckgl-cog){target="_blank"}

GPU-accelerated Cloud-Optimized GeoTIFF visualization with automatic reprojection.

### Installation

```bash
bun add @developmentseed/deck.gl-raster geotiff-geokeys-to-proj4
```

### Features

- Fully client-side (no server required)
- GPU-accelerated rendering
- Automatic CRS reprojection
- Intelligent tile streaming
- Overview level selection
- Support for multi-band imagery

### Basic Usage

```vue
<script setup lang="ts">
  import { VMap, VLayerDeckglCOG } from '@geoql/v-maplibre';

  const mapOptions = {
    style: 'https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json',
    center: [31.5, 30.0],
    zoom: 8,
  };

  // Sentinel-2 RGB imagery COG
  const COG_URL = 'https://sentinel-cogs.s3.us-west-2.amazonaws.com/sentinel-s2-l2a-cogs/36/Q/WD/2020/7/S2A_36QWD_20200701_0_L2A/TCI.tif';
</script>

<template>
  <VMap :options="mapOptions" style="height: 500px">
    <VLayerDeckglCOG
      id="cog-layer"
      :geotiff="COG_URL"
      @geotiff-load="(tiff, { geographicBounds }) => console.log('Loaded:', geographicBounds)"
    />
  </VMap>
</template>
```

### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `id` | `string` | required | Unique layer identifier |
| `geotiff` | `string \| ArrayBuffer \| Blob` | required | GeoTIFF source URL or data |
| `tileSize` | `number` | `256` | Tile size in pixels |
| `maxZoom` | `number` | - | Maximum zoom level |
| `minZoom` | `number` | `0` | Minimum zoom level |
| `opacity` | `number` | `1` | Layer opacity (0-1) |
| `visible` | `boolean` | `true` | Layer visibility |
| `pickable` | `boolean` | `false` | Enable picking |
| `debug` | `boolean` | `false` | Show debug overlay |

### Events

| Event | Payload | Description |
|-------|---------|-------------|
| `@geotiff-load` | `(tiff, { geographicBounds })` | GeoTIFF loaded with bounds |
| `@click` | `PickingInfo` | Clicked on layer |
| `@hover` | `PickingInfo` | Hovering over layer |

### Fit to Bounds

```vue
<script setup lang="ts">
  import { shallowRef } from 'vue';
  import type { Map } from 'maplibre-gl';

  const mapInstance = shallowRef<Map | null>(null);

  const handleGeotiffLoad = (
    _tiff: unknown,
    { geographicBounds }: { geographicBounds: { west: number; south: number; east: number; north: number } }
  ) => {
    const { west, south, east, north } = geographicBounds;
    mapInstance.value?.fitBounds(
      [[west, south], [east, north]],
      { padding: 40, duration: 1000 }
    );
  };
</script>

<template>
  <VMap :options="mapOptions" @loaded="(map) => mapInstance = map">
    <VLayerDeckglCOG
      id="cog"
      :geotiff="cogUrl"
      @geotiff-load="handleGeotiffLoad"
    />
  </VMap>
</template>
```

### Land Cover Example

[Live Demo](https://mapcn-vue.geoql.in/examples/deckgl-landcover){target="_blank"}

Visualize NLCD land use classification data:

```vue
<VLayerDeckglCOG
  id="landcover"
  :geotiff="nlcdUrl"
  :opacity="0.7"
/>
```

## IDW Interpolation Heatmap

[Live Demo](https://mapcn-vue.geoql.in/examples/maplibre-interpolate-heatmap){target="_blank"}

For Inverse Distance Weighting interpolation (temperature, pollution, continuous values), use `maplibre-gl-interpolate-heatmap`:

```bash
bun add maplibre-gl-interpolate-heatmap
```

This is different from deck.gl's density heatmap - it calculates weighted averages rather than point density. See the [live example](https://mapcn-vue.geoql.in/examples/maplibre-interpolate-heatmap) for implementation details.
